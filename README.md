Cloud-stream-gradle
===============
The goal of this repository is to show a problem that I am facing 
using [start.spring.io](https://start.spring.io/), when I try to create a project
with Spring Cloud Stream and Gradle.

## Project
This project is exactly the same as the generated by [Spring Initializr](https://start.spring.io/)
with the following options:
![image showing the options for this project in Spring Initilizr](images/spring_initializer_cloud_stream.png)

## Problem
The project doesn't build, throwing the following error when trying to download the dependencies:

```
Execution failed for task ':compileTestJava'.
> Could not resolve all files for configuration ':testCompileClasspath'.
   > Could not find org.springframework.cloud:spring-cloud-stream:test-binder.
     Required by:
         project :
   > Could not find org.springframework.cloud:spring-cloud-stream:test-binder.
     Required by:
         project :
   > Could not find org.springframework.cloud:spring-cloud-stream:test-binder.
     Required by:
         project : > org.springframework.cloud:spring-cloud-stream-binder-kafka-streams:3.0.9.RELEASE > org.springframework.cloud:spring-cloud-stream-binder-kafka-core:3.0.9.RELEASE
```

This project has a pipeline configured using [GitHub Actions](https://docs.github.com/en/free-pro-team@latest/actions),
so the error can be observed in a CI environment.

This [GitHub Actions execution](https://github.com/henriquels25/cloud-stream-gradle/runs/1506915780) shows the error.

The problem is caused by the dependency `testImplementation 'org.springframework.cloud:spring-cloud-stream:test-binder@test-jar'`
and when it is removed, the project builds normally. 
